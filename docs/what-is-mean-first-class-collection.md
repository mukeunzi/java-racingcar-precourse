# 개념정리 노트 🔍

## 일급컬렉션(First Class Collection)이란?

- 일급컬렉션이란?
  - Java에서 Map, Set, List와 같은 Collection을 사용할 때, 변수로만 선언하는 것이 아니라 Collection을 클래스 단위로 생성(Wrapping)하는 것을 말한다.
  - 클래스 내에 Collection 이외 다른 멤버변수가 없는 상태를 말한다. (오직 Collection 관리만을 위한 클래스)
- 장점
  1. 비즈니스에 종속적인 자료구조
     - 6가지 로또 번호를 생성하는 로직이 있을 때, 로또 번호를 저장하는 Collection을 일급컬렉션으로 생성할 수 있다.
     - 일급컬렉션을 사용하면 로또 번호가 가져야 하는 규칙(6개의 수, 중복 불가, 1~45까지만 허용) 등을 하나의 클래스에서 관리할 수 있고 한 곳에서 이 값에 대한 유효성을 검증할 수 있다.
     - Collection을 생성하는데 필요한 자료구조를 만드는 것
  2. Collection의 불변성 보장
     - 일급컬렉션 클래스를 통해 값의 불변성을 보장할 수 있다.
     - `final` 로 선언한다고 하더라도, 재할당만 불가능한 것이지 값을 추가하거나 삭제하는 것은 여전히 가능하기 때문에 불변성을 보장한다고 말할 순 없다. (이는 JavaScript에서 `const`가 불변성을 보장하지 않는 것과 동일한 의미)
     - 일급 컬렉션을 통해 값을 변경할 수 있는 함수(set어쩌고)를 만들지 않고 get함수만을 만든다면 값의 불변성을 보장할 수 있다.(값을 변경할 수 있는 기능이 제공되지 않기 때문)
  3. 상태와 행위를 한 곳에서 관리
     - 값과 로직이 함께 존재한다는 장점이 있다
     - 여러 Pay(결제수단)이 있고, 이중 네이버 페이 금액 합이 필요하다고 가정할 때, 일급컬렉션을 사용하지 않는다면 Collection 생성 로직과 Collection을 통해 네이버 페이 금액 합을 구하는 로직이 분리되어 있게 된다.
     - 따라서 네이버 페이 금액 합을 구하는 로직을 여러 곳에서 중복으로 생성할 수 있다. 이후 카카오페이 금액 합, 토스페이 금액 합을 구하는 로직이 추가된다면 코드가 더 흩어질 확률이 높아 실수의 여지가 높아진다.
     - PayGroup 이라는 일급컬렉션을 생성하고 클래스 내에 각 결제수단 별 합계를 구하는 로직을 생성한다면 중복 코드를 방지하고, 해당 컬렉션을 사용하는 코드를 한곳에 모아둘 수 있다. ⇒ 상태와 로직이 한 곳에서 관리된다.
  4. 이름이 있는 컬렉션
     - 컬렉션에 명확하게 이름을 붙일 수 있다.
     - 변수 네이밍을 통해서도 이름을 부여할 수 있지만 코드를 작성하는 개발자마다 네이밍을 다르게 할 수 있기때문에 검색에 어려움이 있다는 문제가 있다.
     - 네이버페이 그룹과 카카오페이 그룹으로 각각의 컬렉션을 만들어 관리한다면 클래스에 정의된 명확한 네이밍으로 코드 상에서 검색을 쉽게 할 수 있다.

## 참고링크

- [https://jojoldu.tistory.com/412](https://jojoldu.tistory.com/412)